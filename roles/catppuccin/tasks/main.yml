---
- name: Clone catppuccin modules
  ansible.builtin.git: # TODO(fk): run in parallel
    repo: "https://github.com/catppuccin/{{ repo_name }}"
    dest: "~/.local/share/catppuccin/{{ repo_name }}"
    version: main
    accept_hostkey: true
  loop_control:
    loop_var: repo_name
  loop:
    - alacritty
    - bat
    - btop
    - eza
    - fish
    - fzf
    - i3
    - lazygit
    - mako
    - rofi
    - swaylock
    - tmux
    - yazi
    - zathura
    - zsh-syntax-highlighting

- name: Set theme variables
  ansible.builtin.set_fact:
    alacritty_theme_path: "~/.local/share/catppuccin/alacritty/{{ catppuccin_flavor|lower }}.toml" # noqa: var-naming[no-role-prefix]
    bat_theme_path: "~/.local/share/catppuccin/bat/themes/Cattppuccin {{ catppuccin_flavor }}.tmTheme" # noqa: var-naming[no-role-prefix]
