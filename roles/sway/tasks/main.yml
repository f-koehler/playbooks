---
- name: Load installation tasks
  ansible.builtin.include_tasks: "install-{{ ansible_os_family }}.yml"

- name: Remove default sway session
  become: true
  ansible.builtin.file:
    path: /usr/share/wayland-sessions/sway.desktop
    state: absent

- name: Create uwsm sway session
  become: true
  ansible.builtin.copy:
    src: sway-uwsm.desktop
    dest: /usr/share/wayland-sessions/sway-uwsm.desktop
    owner: root
    group: root
    mode: "0644"
